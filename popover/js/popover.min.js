!function(t){var o="fu_popover",e=7,i={arrowShow:!0,autoHide:!1,autoHideDelay:2500,content:"",delay:{show:0,hide:0},dismissable:!1,placement:"bottom",title:"",trigger:"click",width:"150px"},r=function(r,s){return this.element=t(r),this.popoverId=o+"_"+e++,this.options=t.extend({},i,s),this.options.autoHideDelay=void 0===this.options.autoHideDelay?0:this.options.autoHideDelay,this.options.delay.show=void 0===this.options.delay.show?0:this.options.delay.show,this.options.delay.hide=void 0===this.options.delay.hide?0:this.options.delay.hide,this.setStyles(),this.init(),this.initTriggers(),this};r.prototype.setStyles=function(){if(t("#fu_popover_styles").length);else{var o=".fu_popover {position: absolute;background: #fff;border: 1px solid rgba(0, 0, 0, 0.2);border-radius: 6px;z-index: 1060;-webkit-background-clip: padding-box;background-clip: padding-box;border: 1px solid #cccccc;border: 1px solid rgba(0, 0, 0, 0.2);border-radius: 6px;-webkit-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);}";o+=".fu_popover_header{margin: 0;padding: 8px 14px;font-size: 14px;text-align: center;background-color: #f7f7f7;border-bottom: 1px solid #ebebeb;border-radius: 5px 5px 0 0;}.fu_popover_content{padding: 9px 14px;}",o+='.fu_popover:after, .fu_popover:before {border: solid transparent;content: " ";height: 0;width: 0;position: absolute;pointer-events: none;}.fu_popover:after {border-color: rgba(255, 255, 255, 0);border-width: 10px;}.fu_popover:before {border-color: rgba(0, 0, 0, 0);border-width: 11px;}',o+=".arrow_top:after{left: 50%;bottom: 100%;border-bottom-color: #fff;margin-left: -10px;}.arrow_top:before{left: 50%;bottom: 100%;border-bottom-color: rgba(0, 0, 0, 0.2);margin-left: -11px;}",o+=".arrow_bottom:after{left: 50%;top: 100%;border-top-color: #fff;margin-left: -10px;}.arrow_bottom:before{left: 50%;top: 100%;border-top-color: rgba(0, 0, 0, 0.2);margin-left: -11px;}",o+=".arrow_left:after{right: 100%;top: 50%;border-right-color: #fff;margin-top: -10px;}.arrow_left:before{right: 100%;top: 50%;border-right-color: rgba(0, 0, 0, 0.2);margin-top: -11px;}",o+=".arrow_right:after{left: 100%;top: 50%;border-left-color: #fff;margin-top: -10px;}.arrow_right:before{left: 100%;top: 50%;border-left-color: rgba(0, 0, 0, 0.2);margin-top: -11px;}",t("<style type='text/css' id='fu_popover_styles'>"+o+"</style>").appendTo("head"),o=".fu_progress{overflow: hidden;height: 20px;margin-bottom: 10px;background-color: #f5f5f5;border-radius: 4px;-webkit-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);}",o+=".fu_progress_bar{float: left;width: 0%;height: 100%;font-size: 12px;line-height: 20px;color: #ffffff;text-align: center;background-color: #337ab7;-webkit-box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);-webkit-transition: width 0.6s ease;-o-transition: width 0.6s ease;transition: width 0.6s ease;}",t("<style type='text/css'>"+o+"</style>").appendTo("head")}},r.prototype.init=function(){var t="";this.options.title.length>0&&(t='<div class="fu_popover_header">'+this.options.title+"</div>");var o='<div class="fu_popover '+this.getArrowClass()+'" id="'+this.popoverId+'" style="display:none;">'+t+'<div class="fu_popover_content">'+this.options.content+"</div></div>";this.options.dismissable===!0?this.initDismissableEvent():"",this.htmlStr=o},r.prototype.getArrowClass=function(){return"top"===this.options.placement?"arrow_bottom":"bottom"===this.options.placement?"arrow_top":"left"===this.options.placement?"arrow_right":"right"===this.options.placement?"arrow_left":""},r.prototype.initDismissableEvent=function(){var o=this.popoverId,e=this.options.delay.hide,i=this.element;t(document).mouseup(function(r){var s=t(i),p=t("#"+o);s.is(r.target)||0!==s.has(r.target).length||p.is(r.target)||0!==p.has(r.target).length||t("#"+o).hide(e)})},r.prototype.initTriggers=function(){var t=this.options.trigger.split(" ");t=jQuery.unique(t);for(var o=0;o<t.length;o++)"click"===t[o]?this.initClickTrigger():"hover"===t[o]?this.initHoverTrigger():"focus"===t[o]?this.initFocusTrigger():""},r.prototype.initClickTrigger=function(){var o=this.element;t("body").on("click","#"+this.element[0].id,function(){t(o).fu_popover("show")})},r.prototype.initHoverTrigger=function(){var o=this.element;t("body").on("mouseenter","#"+this.element[0].id,function(){t(o).fu_popover("show")})},r.prototype.initFocusTrigger=function(){var o=this.element;t("body").on("focus","#"+this.element[0].id,function(){t(o).fu_popover("show")})},r.prototype.display=function(o){var e=this.popoverId;if("show"===o){var i=this.options.delay.show,r=this.options.arrowShow;if(t("#"+e).length||t("body").append(this.htmlStr),setTimeout(function(){r||(t("#"+e).attr("class",""),t("#"+e).addClass("fu_popover")),t("#"+e).show()},i),this.setPopupPosition(),this.options.autoHide===!0){var s=this.options.autoHideDelay;s=0==s?2500:s,setTimeout(function(){t("#"+e).hide()},s)}}else"hide"===o?t("#"+e).hide(this.options.delay.hide):"destroy"===o&&(t("#"+e).remove(),t(this.element).removeData("fu_popover"),this.destroyTriggers())},r.prototype.getOffset=function(t){for(var o=-1==navigator.userAgent.toLowerCase().indexOf("firefox"),e=0,i=0;t;)e+=t.offsetLeft-t.scrollLeft+(o?t.clientLeft:0),i+=t.offsetTop-t.scrollTop+(o?t.clientTop:0),t=t.offsetParent;return{left:e+window.scrollX,top:i+window.scrollY}},r.prototype.setPopupPosition=function(){t("#"+this.popoverId).css({width:this.options.width});var o,e,i=this.getOffset(this.element[0]),r=(t("#"+this.popoverId).position(),t(this.element).outerWidth()),s=t(this.element).outerHeight(),p=i.left,n=i.top,a=t("#"+this.popoverId).outerWidth(),h=t("#"+this.popoverId).outerHeight();if("bottom"===this.options.placement||"top"===this.options.placement){var d=r/2,l=a/2;e="bottom"===this.options.placement?n+s+14:n-h-10;var f=p+d;o=f-l}else if("left"===this.options.placement||"right"===this.options.placement){var d=s/2,l=h/2;o="left"===this.options.placement?p-a-10:p+r+14;var c=n+d;e=c-l}t("#"+this.popoverId).css({left:o+"px",top:e+"px"})},r.prototype.destroyTriggers=function(){var o=this.options.trigger.split(" ");o=jQuery.unique(o);for(var e=0;e<o.length;e++)t("body").off("click","#"+this.element[0].id,function(){}),t("body").off("mouseenter","#"+this.element[0].id,function(){}),t("body").off("focus","#"+this.element[0].id,function(){})},t.fn.fu_popover=function(e){if("string"==typeof e){var i=t(this).data(o);if(jQuery.isEmptyObject(i))return this;i.display(e)}else if(!t.data(this,o)){var s=new r(this,e);return t("#"+s.element[0].id).data(o,s),t.data(this,o,s),this}}}(jQuery);
